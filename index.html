<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1.0, shrink-to-fit=no">
<link href="assets/images/favicon.png" rel="icon" />
<title>Recipology Project | Documentation</title>
<meta name="description" content="KRKE Exam">
<meta name="author" content="harnishdesign.net">

<!-- Stylesheet
============================== -->
<!-- Bootstrap -->
<link rel="stylesheet" type="text/css" href="assets/vendor/bootstrap/css/bootstrap.min.css" />
<!-- Font Awesome Icon -->
<link rel="stylesheet" type="text/css" href="assets/vendor/font-awesome/css/all.min.css" />
<!-- Magnific Popup -->
<link rel="stylesheet" type="text/css" href="assets/vendor/magnific-popup/magnific-popup.min.css" />
<!-- Highlight Syntax -->
<link rel="stylesheet" type="text/css" href="assets/vendor/highlight.js/styles/github.css" />
<!-- Custom Stylesheet -->
<link rel="stylesheet" type="text/css" href="assets/css/stylesheet.css" />
</head>

<body data-spy="scroll" data-target=".idocs-navigation" data-offset="125">

<!-- Preloader -->
<div class="preloader">
  <div class="lds-ellipsis">
    <div></div>
    <div></div>
    <div></div>
    <div></div>
  </div>
</div>
<!-- Preloader End --> 

<!-- Document Wrapper   
=============================== -->
<div id="main-wrapper"> 
  
  <!-- Header
  ============================ -->
  <header id="header" class="sticky-top"> 
    <!-- Navbar -->
    <nav class="primary-menu navbar navbar-expand-lg navbar-dropdown-dark">
      <div class="container-fluid">
        <!-- Sidebar Toggler -->
		<button id="sidebarCollapse" class="navbar-toggler d-block d-md-none" type="button"><span></span><span class="w-75"></span><span class="w-50"></span></button>
		
		<!-- Logo --> 
        <a class="logo ml-md-3" href="index.html" title="iDocs Template"> <img src="assets/images/logo.png" alt="iDocs Template"/> </a> 
		<span class="text-2 ml-2"></span> 

    
  
        <!-- Logo End -->
        
		
                
                  
             
          
        
          
        
    <!-- Navbar End --> 
  </header>
  <!-- Header End --> 
  
  <!-- Content
  ============================ -->
  <div id="content" role="main">
    
	<!-- Sidebar Navigation
	============================ -->
	<div class="idocs-navigation bg-light">
      <ul class="nav flex-column ">
        <li class="nav-item"><a class="nav-link active" href="#idocs_start">Introduction</a>
        </li>
        <li class="nav-item"><a class="nav-link" href="#idocs_layout">Project's description</a>
         
        </li>
        <li class="nav-item"><a class="nav-link" href="#idocs_content">Our Process & Tools</a>
         
		
		</li>
        <li class="nav-item"><a class="nav-link" href="#idocs_components">The ontology</a>
          
        </li>
		<li class="nav-item"><a class="nav-link" href="#idocs_faq">Problems and open questions</a></li>
    <li class="nav-item"><a class="nav-link" href="#idocs_faq2">Further implementations</a></li>
    <li class="nav-item"><a class="nav-link" href="#idocs_faq3">Bibliography</a></li>
  
  
    
			<ul class="nav flex-column">
            <li class="nav-item"><a class="nav-link" href="#v1-1">v1.1</a></li>
            <li class="nav-item"><a class="nav-link" href="#v1-0">v1.0</a></li>
          </ul>
		</li>
      </ul>
    </div>
    
    <!-- Docs Content
	============================ -->
    <div class="idocs-content">
      <div class="container"> 
        
        <!-- Getting Started
		============================ -->
        <section id="idocs_start">
        <h1>Food Recipes Ontology</h1>
        <h2>Information, Extraction, Organization</h2>
        <p class="lead">A digital humanities and digital knowledge project developed by Return Name Team</p>
		<hr>
        <div class="row">
            <div class="col-sm-6 col-lg-4">
                <ul class="list-unstyled">
                    <li><strong>Knowledge Extraction exam:</strong> <br /> Professor Aldo Gangemi</li>
                    <li><strong>Authors:</strong> <br /><a>Alessandro Bertozzi, Gabriele Fiorenza, Samuele Spotti, Alessandro Longo</a></li>
                    <li><strong class="font-weight-700">Created:</strong> February, 2022</li>
                    <li><strong>Update:</strong> May, 2022</li>
                    <li><strong>Interface:</strong><a href="https://alessandrobertozzi.pythonanywhere.com/random"> Recipology, Enjoy your recipe</a></li>
                </ul>
            </div>
            

        </div>
        <p class="alert alert-info">If you have any questions that are beyond the scope of this help file, Please feel free to email samuele.spotti@gmail.com</p>
        </section>
        
		<hr class="divider">
		
        <!-- Introduction
		============================ -->
        <section id="idocs_installation">
            <h2> Introduction: What is a recipe?</h2>
            <p class="lead">
                <i>
                    "There will never be a right way to poach an egg, there’s only a more or less informed way of poaching an egg"
                    <br />- Wylie Dufresne
                </i>

            </p>
            <a class="logo ml-md-3" href="index.html" title="Tavola"> <img src="assets/images/tavola.png" class="img-fluid" alt="Tavola"/> </a>
            <p><i>Figure 1. Fede Galizia, Still life with apples, pears, figs and melon, c.1625-1630</i></p>
            <span class="text-2 ml-2"></span>


            <p>
             <br />
                Simple questions are sometimes the hardest to answer. The issue we are analyzing falls into this category: what is a recipe? The ontological consistency presents the first dilemma: a recipe is a thing or is a process? We may say that is both. On one hand, a recipe is a list of instructions and steps necessary to reach a final goal. A static, textual object, comparable to an algorithm, if we follow the term’s interpretation given by the French mathematician Jean-Luc Chabert’s:
            </p>

            <p>
                <i>
                    “Algorithms have been around since the beginning of time and existed well before a special word had been coined to describe them. Algorithms are simply a set of step-by-step instructions, to be carried out quite mechanically, so as to achieve some desired result.”
                </i>
            </p>
            <p>
                From this perspective, recipes are algorithms to follow to create a recipe as also other cultural objects - e.g. laws’ code - are lists of steps designed to achieve a goal (in the case of laws, to punish misbehavior). As textual objects, recipes and algorithms share a common origin in the birthplace of writing, namely Mesopotamia around 1700 b.C. In the Fertile Crescent, archeologists found 35 recipes written on 3 tablets in cuneiform writing: this is already very advanced and refined gastronomy, and a very precise way of presenting it, defined by the French assyriologist Jean Bottéro as the “ancient cuisine of the world”. As a textual culture progressively expanded through the centuries, other written sources of recipes were created as’ the famous ‘De re coquinaria’ penned by Apicio in the first century after Christ or ‘De observationem ciborum’ by the Greek medic Anthimius in 500 A.D.
            </p>
            <a class="logo ml-md-3" href="index.html" title="Manoscritto"> <img src="assets/images/manoscritto.png" class="img-fluid" alt="Manoscritto" style="width:300px;height:400px;" /> </a>
            <p><i>Figure 2. 1541 CE manuscript of Apicius' De Re Coquinaria - a Roman cookbook - here named De Re Culinaria.</i></p>
            <span class="text-2 ml-2"></span>

            <p>This progressive systematization of the common knowledge around food moved forward in the Middle Age, the Renaissance (as the book <a href="https://www.olschki.it/libro/9788822244581">Cucina Italiana del Quattrocento</a> explores), and onwards with volumes like ‘Das Kochbuch der Sabina Welserin’ in Germany (1500 A.D. ) or ‘The English Huswife’ cookbook in 17th century England. A distinction has to be drawn here: up until the 15th century, cookbooks were elite-specific items and mostly used in the context of courts and centers of power. This is also the reason why food historians have been struggling with a specific definition of lower classes’ diet and food habits.</p>
            <p>
                Recipes represent an inscription and memorization of oral culture and could also be defined as shared <a href="https://www.eater.com/2020/6/17/21255211/what-is-a-recipe"><i>"repositories of knowledge”</i></a>: a way to transcribe what has been known by different populations through centuries, similarly to what happened in history with epic poems and other kinds of shared stories.
            </p>
            <p>
                Yet, a gradient of freedom will always be present in recipes, according to the reader’s interpretation and the chef’s execution. This is the understanding of recipes as open processes, where differentiation and variants are always bound to happen. In this understanding, common elements and traits in recipes can be considered as patterns, less rigid than algorithmic steps but still precise enough to give guidance and confidence. Thus, such patterns are interoperable and modular and can be assembled in various recipes, as described by Navneet Alang:
            </p>
            <p><i>“An intertextual approach to food is about treating cooking as units to be deployed in different ways: a caramelized base to add flavor, a technique or ingredient to add umami, a herb or pickle to add a bright or spicy high note. It is the idea of taste as a kind of melody — the bass notes of umami, the highs of acid or heat or bitterness, the midrange of earthiness — but also of cooking as a skill that emerges from how you put bits of technique and ingredients together. It’s sort of the difference between a cookbook as a collection of recipes, or something like Samin Nosrat’s Salt, Fat, Acid, Heat, which the Atlantic <a href="https://www.theatlantic.com/entertainment/archive/2018/10/samin-nosrat-salt-fat-acid-heat-netflix/572731/">accurately described</a> as more like “a cooking philosophy” than a step-by-step guide.”</i></p>
            <a class="logo ml-md-3" href="index.html" title="Botero"> <img src="assets/images/botero.png" class="img-fluid" alt="Botero"  /> </a>
            <p><i>Figure 3. Fernando Botero, Picnic, 1890</i></p>
            <span class="text-2 ml-2"></span>
            <p>Above all, recipes have to be understood as historical and contingent entities, influenced by historical phenomena like migrations, wars, colonization, and religion. It is better then to understand recipes as part of foodways. Foodways are “the eating habits and culinary practices of a people, region, or historical period”, according to the <a href="https://www.merriam-webster.com/dictionary/foodways">Merriam-Webste</a> Dictionary.
            </p>
            <p>Halder brings the example of <a href="https://www.sahapedia.org/our-food-their-food-historical-overview-of-the-bengali-platter">Bengalese cuisine</a> as a mutant foodway that was changed by the different ideas and forces that touched the area through the centuries. Halder’s research is also a reminder that taxonomies of food by ‘national cuisine’ are slippery: not only is Bengali cuisine already split by a national border, but events such as the introduction (and subsequent promotion by the colonial British administration to drive profits) of ingredients like potatoes and chilies, or the slow adoption of Islamic cooking techniques during the 12th-18th centuries are all influences on ‘traditional’ recipes.</p>
            <p>With this brief introduction, we wanted to show the intrinsic complexity behind the simple idea of ‘recipe’. Our project’s goal is to create an effective and user-centered ontology for recipes and, accordingly, we will move towards a progressive simplification of this convoluted thread. Yet, as digital humanists, we considered important to keep the different faces of this multi-layered topic in mind and to never forget the subjectivity of every observation, no matter how objective it claims to be. Food and recipes move around the world and they assume different meanings according to the point of observation: while pasta is an everyday meal in Italy and is considered a common ‘main dish’, its semiotical signification in the German or American context is vastly different and it’s also served as a side dish. Thus, the knowledge we are developing here on recipes is situated and contingent on our material perspectives. With this in mind, let’s move toward the description of the ontology.
            </p>

          </section>

         
		<hr class="divider">
		
    <!-- Brief Introduction
============================ -->
    <section id="idocs_layout">
      <h2>A brief description of the project</h2>
      <p>RECIPOLOGY is an ontology designed to classify food recipes and it was designed with a practical scope in mind. Namely, our starting idea was to create an ontology able to classify dynamically the information coming from different recipes’ websites and thus, develop a harmonized, unique, and automated information classification system. The final goal will be to have a perfectly functioning ontology that can be integrated with different resources. Furthermore, we envisioned a possible practical application in mobile or web kitchen app, able to provide users with different, classified recipes. Yet, through the development of this project, different issues emerged narrowing down the scope of RECIPOLOGY.
      </p>
      
     
        
		<hr class="divider">
		
        <!-- Our Process
		============================ -->
        <section id="idocs_content">
          <h2>Our Process and Tools</h2>
          <h3>3.1 The eXtreme Design Methodology
          </h3>
          <p>For designing our ontology, we adopted the eXtreme Design Methodology (XD) described in Blomqvist, E., Hammar, K., Presutti, V. (2016). The advantages of such methodology are several;  in particular, what matters the most for us is the pragmatic and real-world approach of XD. Let’s unpack this. 
          </p>
          
          <ol>
            <li>“XD needs high involvement of a “customer”, i.e., someone who is going to use the ontology later on, either directly or indirectly”. 
              As we envisioned the use of this ontology for a practical reason, it is useful to rely on such a methodology where the customer is central.  
            </li>
            <li>“Second, XD is highly requirements-driven, i.e., the ontology should contain exactly what is needed and nothing else.”. 
              Specifically, this means that the ontology is designed according to stories expressed through competency questions (described in section 4.1).
            </li>
            <li>“Third, the XD methodology is iterative, and incrementally builds the end result. This means that the methodology will produce a tangible result early on, while then extending that result in each iteration.”
              This characteristic of the XD workflow also matched perfectly the domain of our ontology. Recipes can be described according to different levels of complexity and granularity thus adopting an iterative process is really useful. First, we described a base ontology and then we enriched it with more information coming from competency questions.              
            </li>
            <br>
            <p>Obviously, we didn’t have the chance to test the ontology in the field or for some clients. 
            </p>
            <a class="logo ml-md-3" href="index.html" title="Design"> <img src="assets/images/design.png" class="img-fluid"  alt="Design"  />  </a>
            <p><i>Figure 4. From the eXtreme Design Methodology (XD) described in Blomqvist, E., Hammar, K., Presutti, V. (2016) </i></p>
            <span class="text-2 ml-2"></span>

           
          </ol>

          <h3>3.2 Protégé</h3>
          <p>Protégé is a free, open-source platform with a suite of tools to construct domain models and knowledge-based applications with ontologies. We used Protegé to factually design our ontology.  
          </p>

          <h3>3.3 Python</h3>
          <p>Python is an interpreted, object-oriented, high-level programming language with dynamic semantics. Its high-level built-in data structures, combined with dynamic typing and dynamic binding. We used Python to fulfill three tasks: 
          </p>
          <ul>
            <li>To scrape information while using a proxy to not get blacklisted by the different websites. For this operation, we used two libraries: Urlib3 & BeautifulSoup. The first is a powerful, user-friendly HTTP client for Python to manage HTTP requests and we used it to forward such requests through a proxy; the second is a Python library designed for quick turnaround projects like screen-scraping and we used it for the pure scraping operation from HTML pages.</li>
            <li>Then, we used this information to populate our ontology following the structure of the data stored on the different websites. OwlReady2 is the library that we used to complete this part. OwlReady2  can load OWL 2.0 ontologies as Python objects, modify them, save them, and perform reasoning via HermiT (included). Owlready2 allows a transparent access to OWL ontologies (contrary to usual Java-based API).
            </li>
            <li>Finally, we used Flask to visualize the template. Flask is a web application framework written in Python.
            </li>
          </ul>
          <p>Our code is composed mainly of 5 classes:
          </p>
          <ol>
            <li><strong>Connector</strong>. It takes care of establishing an anonymous connection to avoid IP address recognition. This is necessary to avoid IP blacklisting. It also implements a system of dynamic rotation of proxies: once caught the proxy free working continues to use it to send the next requests.
            </li>
            <li><strong>GZScraper</strong>. It is responsible for indicating to the connector what resources it needs to extract all the information. This is a site-specific class. Each site will have its own class and methods (e.g. GialloZafferano has one class, LaRepubblica has another class). To generalize too much would be a mistake in this case. The cause is the great variability of the technologies used to create websites, which affects the HTML output. As the last step, this class manages to structure the CSV / JSON file where the data will be stored.
            </li>
            <li><strong>Ontobuilder</strong>: Questa classe è adibita al popolamento dell'ontologia di base con le informazioni recuperate tramite lo scraping
            </li>
            <li><strong>The query_class</strong>: questa classe è composta da diversi metodi, ognuno dei quali svolge una particolare query sul database
            </li>
            <li><strong>Template</strong>: un piccolo pezzo di html per visualizzare i risultati ottenuti con il popolamento dell'ontologia e l'attivazione del reasoner sull'ontologia
            </li>
          </ol>

        
          

          <h3>3.4 Our Pipeline</h3>
          <a class="logo ml-md-3" href="index.html" title="Manoscritto"> <img src="assets/images/quattro.png" class="img-fluid" alt="Pipeline" style="width:600px;height:500px;"  /> </a>
          <p><i>Figure 5. Recipology Pipeline</i></p>
          <span class="text-2 ml-2"></span>

		
        
		<hr class="divider">
		
		<!-- Guidelines Ontology
		============================ -->
        <section id="idocs_components">
          <h2>4. Guidelines to the Ontology</h2>
          <p>After introducing our methodology in chapter 3, we now move to the design process and explanation of our ontology.
          </p>


          <h3>4.1 Competency questions</h3>
          <p>Following the XD methodology, we developed some competency questions to understand the scope of our ontology.
            They are grouped into four scenarios that help us to explore the user0s needs and the actual situations that can happen daily.
            </p>
          <h4>Scenario nr.1</h4>
          <p><strong>Diet</strong>.The users want to eat food according to a specific diet for a specific period of time. The user tells the system what I want to build the diet on, and the system is able to return to them a list of recipes organized by day.
          </p>
          <p><i>Competency questions:</i></p>
          <ol>
            <li>Which is the kind of food on which the user wants to build their diet?
            </li>
            <li>Which kitchen tools does the user have?
            </li>
            <li>Which recipes in the databases match the requirements?</li>
          </ol>
          <h4>Scenario nr.2</h4>
          <p><strong>Social Context</strong>. The user wants to know a menu that is appropriate to the social context of the meal. The dishes must be properly matched.
          </p>
          <p><i>Competency questions:</i></p>
          <ol>
            <li>How can the social context be evaluated?
            </li>
            <li>What kind of guest does the social context expect?
            </li>
            <li>How many and which dishes should be prepared?
            </li>
          </ol>
          <h4>Scenario nr.3</h4>
          <p><strong>Thematic meal</strong>. The user wants to have a thematic meal, choosing ingredients and dishes typical of a certain season, holiday, or geographic origin.
          </p>
          <p><i>Competency questions:</i></p>
          <ol>
            <li>What is the theme chosen?
            </li>
            <li>What dishes can be selected?
            </li>
            <li>How can the dishes be matched?
            </li>
          </ol>
          <h4>Scenario nr.4</h4>
          <p><strong>Complete meal</strong>. The user wants to make a complete meal according to different smells (mountain, sea, or farm), colors (black, orange, red, or green), and tastes (sweet, salty, spicy).
          </p>
          <p><i>Competency questions:</i></p>
          <ol>
            <li>What are the chosen criteria?
            </li>
            <li>How can the dishes be matched?
            </li>
          </ol>

          <h3>4.2 Our inspirations</h3>
          <p>In order to reach the first design of our base ontology, we got inspiration from an official Protégé paper, <i>“A Practical Guide To Building OWL Ontologies Using Prot ́eg ́e 4 and CO-ODE Tools Edition 1.3”</i> by Matthew Horridge. This paper is a walkthrough across Protégé that develops an ontology for classifying pizzas. In this example, pizzas are classified according to their own topping: this structural model is comparable to our ontology, which classifies recipes according to their ingredients. Here is the structure that inspired our ontology:
          </p>
          <a class="logo ml-md-3" href="index.html" title="Manoscritto"> <img src="assets/images/cinque.png" class="img-fluid" alt="ispirations"  /> </a>
          <p><i>Figure 6. The pizza ontology structure on Protégé
          </i></p>
          <span class="text-2 ml-2"></span>
          <br>
          <a class="logo ml-md-3" href="index.html" title="Manoscritto"> <img src="assets/images/sei.png" class="img-fluid" alt="ispirations"  /> </a>
          <p><i>Figure 7. The subclasses’ relationships in the pizza ontology </i></p>
          <span class="text-2 ml-2"></span>
          <br>


  
<br>
          <p>Another key inspiration for our ontology is the scientific classification of ingredients, which we found consulting several scientific papers. We classified ingredients according to the scientific division proposed in the book <i>“Conoscere gli alimenti. Scienza e cultura dell’alimentazione per i servizi di enogastronomia e di sala e vendita”</i> di Silvano Rodato, which divides ingredients into five classes:
          </p>
          <table>
            <tr>
              <th></th>
              <th>Aliments</th>
              <th>Nutrients</th>
            </tr>
            <tr>
              <td>Group 1</td>
              <td><strong>Cereals and derivatives, tubers</strong>. It includes bread, pasta, rice, baked goods, minor cereals (e.g. barley and oath), polenta, breakfast cereals, potatoes, etc.
              </td>
              <td>
                <ul>
                  <li>Complex carbs (e.g. starch amido)
                  </li>
                  <li>Proteins with lower biological value
                  </li>
                  <li>Certain vitamins from group B (e.g. B1 and PP)</li>
                  <li>Dietary fiber</li>
              </ul>
              </td>
            </tr>
            <tr>
              <td>Group 2</td>
              <td>Fruit and vegetables. It includes all kinds of fresh fruit, fresh vegetables, and fresh pulses.</td>
              <td><ul>
                <li>Carotenes (e.g. Vitamin C)
                </li>
                <li>Mineral salts
                </li>
                <li>Fructose</li>
                <li>Dietary fiber</li>
            </ul></td>
            </tr>
            <tr>
              <td>Group 3</td>
              <td><strong>Milks and derivatives.</strong> It includes all kinds of milk, milk-based products, cheese, and yogurt.              </td>
              <td><ul>
                <li>Proteins with high biological value
                </li>
                <li>Calcium, phosphorus
                </li>
                <li>Lipids</li>
                <li>Group B vitamins</li>
                <li>Vitamin D, vitamin A
                </li>
            </ul></td>
            </tr>
            <tr>
              <td>Group 4
              </td>
              <td><strong>Meat, fish, eggs, and pulses.</strong>It includes all kinds of meat, offal, and sausages, all kinds of fish, shellfish, mollusks, eggs, and dried legumes.</td>
              <td><ul>
                <li>Proteins with high biological value (e.g. meat)
                </li>
                <li>Proteins with low biological value (legumes)
                </li>
                <li>Iron, zinc</li>
                <li>Group B vitamins</li>
            </ul></td>
            </tr>
            <tr>
              <td>Group 5</td>
              <td><strong>Fat and oils.</strong>It includes all kinds of oil and fat used to season, e.g. olive oil, seed oil, butter, margarine, lard, cream, etc.
              </td>
              <ul>
                <li>Lipids
                </li>
                <li>Saturated fats
                </li>
                <li>Fat-soluble vitamins
                </li>
                
            </ul></td>
            </tr>
          </table>
          <br>

          <p>Then, an over-classification is applied to the groups, which are divided in Energetic, Protective and Plastic aliments,  as represented in the following schema:
          </p>
          <a class="logo ml-md-3" href="index.html" title="Manoscritto"> <img src="assets/images/schema1.png" class="img-fluid" alt="ispirations" style="width:500px;height:500px;"  /> </a>
          <p><i>Figure 8. Energetic Aliments </i></p>
          <span class="text-2 ml-2"></span>
          <br>
          <a class="logo ml-md-3" href="index.html" title="Manoscritto"> <img src="assets/images/schema2.png" class="img-fluid" alt="ispirations" style="width:500px;height:500px;" /> </a>
          <p><i>Figure 9. Protective Aliments </i></p>
          <span class="text-2 ml-2"></span>
          <br>
          <a class="logo ml-md-3" href="index.html" title="Manoscritto"> <img src="assets/images/schema3.png" class="img-fluid" alt="ispirations" style="width:500px;height:500px;" /> </a>
          <p><i>Figure 10. Plastic Aliments </i></p>
          <span class="text-2 ml-2"></span>
          <br>


    <h3>4.3 Defining categories</h3>
    <p>Our ontology revolves around three main categories: <strong>Execution, Recipe, and Ingredient.</strong>
    </p>
    <ol>
      <li><strong>Execution</strong> = this class represents the necessary steps to complete the recipe. 
      </li>
      <li><strong>Recipe</strong> = this class represents food recipes. A recipe is an entity produced by the composition of a series of ingredients through a specific, human process. 
      </li>
      <li><strong>Ingredient</strong> = this class represents ingredients used to assemble recipes.</li>
    </ol>
    <a class="logo ml-md-3" href="index.html" title="Manoscritto"> <img src="assets/images/sette.png" class="img-fluid" alt="ispirations"  /> </a>
    <p><i>Figure 11. The three main classes on Protégé
    </i></p>      
    <span class="text-2 ml-2"></span>
    <br>
    <p>Then, the class Ingredient is divided into different subclasses that reflect the food classification system presented in section 4.2. So, we have:
    </p>
    <ol>
      <li><strong>Ingredient_by_food groups</strong> = this series of subclasses simply reflects the division of ingredients in groups, as seen in “Scienza e cultura degli alimenti”. 
      </li>
      <li><strong>Ingredient_by_functions</strong> = this series of subclasses also comes from the same classification system and, in our ontology, it is automatically inferred starting from the food group. 
        <i>E.g. the ingredient X is part of group 1 OR group 5, then ingredient X is part of Energetic Ingredients.</i>        
      </li>
      <li><strong>Ingredient_by _category</strong>: this series of subclasses is our recombination of the previous two classes and it’s the key series for actually classifying recipes. We summarized the scientific classes into a more practical and agile system of 6 sub-classes. 
        <i>E.g. the ingredient X is part of class Beverage OR class Condiment OR Ingredient Group 2 OR Ingredient Group 5, then ingredient X is part of Vegan Ingredient.</i>
        </li>
    </ol>
    <p>It is important to specify that these three sets of subclasses are equal to each other that organize differently the same content. So, the ingredient Y is part of all three sub-categories without any contrast because they are <i>logically equivalent.</i>
    </p>
    <a class="logo ml-md-3" href="index.html" title="Manoscritto"> <img src="assets/images/otto.png" class="img-fluid" alt="ispirations" /> </a>
    <p><i>Figure 12. The subclasses of the class Ingredient on Protégé</i></p>      
          <span class="text-2 ml-2"></span>
          <br>
    <p>Also, the class <i>recipe</i> is divided into two equal sets of subclasses:
    </p>
    <ol>
      <li><strong>Recipe_by_category</strong> = this series of subclasses simply mirrors the Ingredient_by_category subclass, so that according to ingredient category, also the recipe category is defined. 
      </li>
      <li><strong>Recipe_by_type_GialloZafferano</strong> = this series of subclasses is useful for the dynamic scope of our ontology, so that classification systems can be imported by recipes’ websites and they can have an equivalent classification in our system. GialloZafferano is just the first example but RECIPOLOGY can be expanded with the integration of other systems.      
      </li>
    </ol>
    <a class="logo ml-md-3" href="index.html" title="Manoscritto"> <img src="assets/images/nove.png" class="img-fluid" alt="ispirations"  /> </a>
    <p><i>Figure 13. The subclasses of the class Recipe on Protégé
    </i></p>  
          <span class="text-2 ml-2"></span>
          <br>
    <h3>4.4 Class or individuals</h3>
    <p>Differently that the pizza ontology mentioned in 4.1, we populate our ontology with individuals so that every recipe is an individual. We adopted this system simply to maintain the idea that an ontology is a class-based classification system of individuals and thus it is used to classify individual instances that are scraped from recipes’ websites. 
    </p>
    <h3>4.5 Problem with n-ary relationship</h3>
    <p>An issue we had in the development of our ontology was the specification of ingredients quantities, which it’s an important component of a recipe. Basically, the issue was how to connect the name of the recipe to the quantity of the ingredients.
    </p>
    <p><i>E.g. This is an example of a selection operation of a recipe with name Lasagna.
    </i></p>
    <a class="logo ml-md-3" href="index.html" title="Manoscritto"> <img src="assets/images/dieci.png" class="img-fluid" alt="ispirations"  /> </a>
    <p><i>Figure 14. An example of a selection operation of the recipe ‘Lasagna’
    </i></p>     
          <span class="text-2 ml-2"></span>
          <br>
    <p>Our solution was the selection operation: we have the recipe, the recipe is a class, and with the selection operation, we pick a specific quantity of the ingredients necessary for the recipe. The quantity is represented by a specific class, called indeed selection operation, that is functionally equivalent to a blank node, useful to complete this task. Under this class we define many individuals as well as the number of ingredients that the recipes have. And for each individuals of this class we assigne a type, which connect this entity to other two entities: one ingredient and its corresponding quantity. The data used fot this task these are again scraped from recipes’ websites.</p>
    <h3>4.6 Populate the ontology with owlready2</h3>
    <p>As mentioned in 3.3, we built a Python class to automatically populate our ontology starting from the scraped ingredients and recipes. Our script populates the ontology in three directions: the ingredients, the recipes, and the aforementioned selection operation class (used to define quantity). Moreover, we add to these individuals specific types useful to enable the classification from the reasoner.
    </p>
    <a class="logo ml-md-3" href="index.html" title="Manoscritto"> <img src="assets/images/undici.png" class="img-fluid" alt="ispirations" style="width:600px;height:400px;" /> </a>
    <p><i>Figure 15. The population section in the pipeline
    </i></p>      
    <span class="text-2 ml-2"></span>
    <br>
    <p>Here is an example of <strong>one recipe</strong>. With our script, we assign to each recipe three categories of types: 
    </p>
    <ol>
      <li>the <strong>connection</strong> with the ingredients (which are themselves individuals) through the quantifier some, useful for all the categories that require just the presence of at last one element (within the ones specified in the category itself); 
      </li>
      <li><strong>The constrain</strong> only for closing the world of the considered individual in order to simplify the reasoning process;
      </li>
      <li>Finally, the <strong>connection</strong> with the aforementioned selection operation.</li>
    </ol>

    <a class="logo ml-md-3" href="index.html" title="Manoscritto"> <img src="assets/images/dodici.png" class="img-fluid" alt="ispirations"  /> </a>
    <p><i>Figure 16. The selection operation on Protégé </i></p>     
    <span class="text-2 ml-2"></span>
    <br>

    <p>Then we have an example of <strong>selection operations</strong>: the script populates the <i>selection operation</i> class with an individual for each ingredient for each recipe. Then, the script assigns the two entities described above to each selection operation's individual: one for the corresponding ingredient and another for the quantity of this latter ingredient.
    </p>
    <a class="logo ml-md-3" href="index.html" title="Manoscritto"> <img src="assets/images/image11.png" class="img-fluid" alt="ispirations"  /> </a>
    <p><i>Figure 17. The selection operation subclass
    </i></p>      
    <span class="text-2 ml-2"></span>
    <br>
    <p>Here is <strong>an ingredient example</strong>: for this operation, the script provides a series of bash steps to the user in order to classify the ingredients as individuals into the corresponding food group under the <i>ingredient_by_food_group</i> class.
    </p>
    <a class="logo ml-md-3" href="index.html" title="Manoscritto"> <img src="assets/images/image8.png" class="img-fluid" alt="ispirations"  /> </a>
    <p><i>Figure 18. The selection operation on the ingredients</i></p>     
    <span class="text-2 ml-2"></span>
    <br>
    <h3>4.7 Reasoning and classification of recipes</h3>
    <p>Our ontology adopt a <i>reasoner</i>, an algorithm built-in Protégé, that is able to make logical inferences. This reasoner re-classifies the recipes that we scraped into the categories that we defined into <i>recipes_by_category</i>. The reasoner is able to make this kind of reasonement thanks to the types which we have previously defined on individuals.</p>
      <br>
      <p>The classes to be populated without the reasoner</p>
      <a class="logo ml-md-3" href="index.html" title="Manoscritto"> <img src="assets/images/Cattura.JPG" class="img-fluid" alt="ispirations"  /> </a>
      <p><i>Figure 19. The classes without the reasoner on Protégé </i></p>    
      <span class="text-2 ml-2"></span>
      <br>
    <p>The classes populated thanks to the reasoner</p>
    <a class="logo ml-md-3" href="index.html" title="Manoscritto"> <img src="assets/images/Cattura1.JPG" class="img-fluid" alt="ispirations"  /> </a>
    <p><i>Figure 20. The classes with the reasoner on Protégé </i></p>     
    <span class="text-2 ml-2"></span>
    <br>
    <h3>4.8 Query information from ontology</h3>
    <p>Before the last step (visualization), we created a class to retrieve information from the ontology in a systematic way, respecting our starting skill queries. The queries are obtained by combining both Sparbl and simplified queries from the Owlready2 library. The results of the queries are then combined, resulting in an overall final file. The script consists of the following functions:
      <ul>
        <li><strong>query_for_selection_individuals:</strong> deals with retrieving for each individual recipe the corresponding selection operations. From these, it retrieves the corresponding ingredient and its quantity.</li>
        <li><strong>query_for_categories:</strong> it deals with retrieving the categories of the recipes, under the class Recipe_for_type_GialloZafferano.</li>
        <li><strong>combination_category_informations_of_individuals:</strong> Combines the results of the previous categories. Each recipe is now a dictionary key, with values of its own ingredients, corresponding quantities, and finally the category of Giallo Zafferano.</li>
        <li><strong>query_for_inferred_categories:</strong> retrieves the categories into which the recipes were reclassified after the reasoner action. These categories are added to the file obtained in the previous step.</li>
      </ul></p>
    <h3>4.9 Reasoning and Display results with Flask</h3>
    <p>Results retrieved via queries are deployed to a simple HTML template via Flask. The application dynamically displays a random recipe fished from within the ontology, highlighting its inferred categories thanks to the reasoner.
    </p>
    <p><a href="https://alessandrobertozzi.pythonanywhere.com/random"> You can see and navigate the template here</a></p>


     

        </section>
        <hr class="divider">
		
        <!-- problems
    ============================ -->
        <section id="idocs_faq">
          <h2>5. Problems and open questions</h2>
          <h3>5.1 Eval(uation) problem: creating dynamic class and individuals in Owlready2</h3>
          <p>A first problem encountered is the dynamic creation of classes within the Owlready2 library. Given our goal of making the ontology an effective small database, we attempted to use the library to dynamically insert our 200 recipes. Unfortunately, Owlready2 does not make it so easy to achieve this. Indeed, the library expects an explicit declaration of the elements that make up the ontology, without considering the use of variables instead. This has led us to adopt alternative tools, not envisioned by the authors themselves.
            Python has a built-in function named Eval(). It allows a normal string to be transformed into executable code. It then tells the parser not to consider the content passed to the function as an ordinary string. This approach allowed us to get a definition of individuals and types of individuals themselves in a dynamic way. However, we can only lament the lack of such a basic feature inside a library like Owlready2.
            </p>

          <h3>5.2 Size doesn’t matter: the slowness of Hermit and Pellet</h3>
          <p>Another significant problem is the slowness of the reasoners. Once the ontology was populated with roughly 500 individuals and their types, we used the reasoners to compute inferences. Many different problems emerged from this point onwards:
            endless computation, sudden crashes, endless loading loops, and freezing of the Owlready2 library or Protègè. It is a shame that a pivotal tool such as the reasoner works so poorly. 
            </p>
          <h3>5.3 Protégé instability
          </h3>
          <p>Protégé itself, the main ontology editor out there, is flagged by problems and sometimes it is barely usable, especially on Windows. Moreover, the plugins are old and not updated and the crashes happen on a daily basis. Plus, the log is expressed purely in Java, which makes it impossible to understand the bug if one is not fluent in this language. 
          </p>
          </section>
        </section>
        <hr class="divider">
		
        <!-- futher implementations
    ============================ -->
        <section id="idocs_faq2">
          <h2>6. Further implementations</h2>
          <p>Recipology could still be expanded across other directions. An interesting experiment would be developing a connection with FoodOn, one of the most detailed and precise food ontologies around. Another research possibility consists of creating a more precise and granular ingredient classification criteria based on each ingredient’s specific nutritional component.From a more pragmatic perspective, it could be interesting to use Recipology as a base to develop some Mobile Apps intended to assist the user to keep a regular and healthy diet. Often, indeed, people do not eat healthy not because they do not want to but because they do not know how to do it. Furthermore, there are even other scenarios where a Mobile App using our ontology can be helpful: for instance, if the user wants to record their daily meals to have some montly insights and suggestions about what they can eat. It could also be used for fun: only to discover new recipes and food never tried before.</p>
		
     
		
      
		  
		  <hr class="divider">
      <section id="idocs_faq3">
        <h2>Bibliography</h2>
        <ul>
          <li><a href="https://www.indiscreto.org/ricetta/">https://www.indiscreto.org/ricetta/</a></li>
          <li><a href="https://www.eater.com/2020/6/17/21255211/what-is-a-recipe">https://www.eater.com/2020/6/17/21255211/what-is-a-recipe
          </a></li>
          <li><a href="https://www.are.na/blog/on-food-ontologies">https://www.are.na/blog/on-food-ontologies</a></li>
          <li><a href="https://www.e-flux.com/journal/101/273221/three-thousand-years-of-algorithmic-rituals-the-emergence-of-ai-from-the-computation-of-space/">Three Thousand Years of Algorithmic Rituals: The Emergence of AI from the Computation of Space
          </a></li>
          <li><a href="https://foodon.org/">https://foodon.org/
          </a></li>
          <li><a href="https://www.theatlantic.com/entertainment/archive/2018/10/samin-nosrat-salt-fat-acid-heat-netflix/572731/">https://www.theatlantic.com/entertainment/archive/2018/10/samin-nosrat-salt-fat-acid-heat-netflix/572731/
          </a></li>
          <li><a href="https://www.sahapedia.org/our-food-their-food-historical-overview-of-the-bengali-platter">https://www.sahapedia.org/our-food-their-food-historical-overview-of-the-bengali-platter</a></li>
          <li><a href="https://newmaterialism.eu/almanac/s/situated-knowledges.html">https://newmaterialism.eu/almanac/s/situated-knowledges.html
          </a></li>
        </ul>
   
  
    
    
    <hr class="divider">
		  
          <h3 id="v1-0">Thank you for your time! <small class="text-muted">Enjoy Recipology and take your meal</small></h3>
          
        </section>        
        
      </div>
    </div>
	
  </div>
  <!-- Content end --> 
  
  <!-- Footer
  ============================ -->
  <footer id="footer" class="section bg-dark footer-text-light">
    <div class="container">
      
      <p class="text-center">Copyright &copy; 2022. All Rights Reserved.</p>
	  <p class="text-2 text-center mb-0">Design &amp; Develop by Return Name Team.</p>
    </div>
  </footer>
  <!-- Footer end -->
  
</div>
<!-- Document Wrapper end --> 

<!-- Back To Top --> 
<a id="back-to-top" data-toggle="tooltip" title="Back to Top" href="javascript:void(0)"><i class="fa fa-chevron-up"></i></a> 

<!-- JavaScript
============================ -->
<script src="assets/vendor/jquery/jquery.min.js"></script> 
<script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script> 
<!-- Highlight JS -->
<script src="assets/vendor/highlight.js/highlight.min.js"></script> 
<!-- Easing --> 
<script src="assets/vendor/jquery.easing/jquery.easing.min.js"></script> 
<!-- Magnific Popup --> 
<script src="assets/vendor/magnific-popup/jquery.magnific-popup.min.js"></script> 
<!-- Custom Script -->
<script src="assets/js/theme.js"></script>
</body>
</html>
